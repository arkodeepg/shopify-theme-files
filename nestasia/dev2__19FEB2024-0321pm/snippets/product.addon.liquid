<style>
  .addOnTotalWraper {
    margin-bottom: 15px;
  }
  .slickProductWrapSM1 {
    max-width: 85%;
    margin: auto;
  }
  .slickProductWrapSM-wrapper{
    position: relative;
  }
  .addonMaintitle {
    display: flex;
    color: #343333;
    font-size: 18px;
    font-weight: 700;
    letter-spacing: 0.78px;
    border-bottom: 1px solid #dedede;
    padding-bottom: 10px;
    align-items: center;
    gap: 10px;
  }
  .addonMaintitle img {
    margin: 0;
  }
  .addontype1,
  .addontype2,
  .addontype3 {
    margin-top: 10px;
    padding-bottom: 10px;
    color: #343333;
    font-size: 16px;
  }
  .slickSmEachProduct {
    border: 1px solid rgba(153, 153, 153, 0.2);
  }
  .slickSmEachProductTitle {
    color: #4c4c4c;
    font-size: 12px;
    padding: 0;
    margin-bottom: 4px;
    display: -webkit-box;
    max-width: 100%;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
    /* min-height: 35px; */
  }
  .slickSmEachProductPrices {
    padding: 0;
    margin-bottom: 10px;
  }
  .slickSmEachProductActualprice {
    color: #171717;
    font-size: 14px;
    font-weight: 700;
  }
  .slickSmEachProductCompare {
    color: #4c4c4c;
    text-decoration: line-through;
    font-size: 12px;
  }
  .slickSmEachProductAtc {
    border: 1px solid #96865d;
    display: flex;
    justify-content: center;
    padding: 7px 0;
    color: #96865d;
    font-size: 12px;
    gap: 10px;
  }
  .wraperTexts {
    padding: 8px 4px 4px;
  }
  .slickSmEachProductInput {
    display: none;
    border: 1px solid #96865d;
    background: #96865d;
    color: white;
    justify-content: space-around;
    padding: 5px 0;
  }
  .slickSmEachProductInput p {
    padding: 0;
    color: white;
    cursor: pointer;
  }
  .slickSmEachProductInput input {
    width: 20px;
    background: transparent;
    height: 17px !important;
    min-height: auto;
    border: none;
    color: white;
  }
  .slickSmEachProductAtc:hover {
    /* background: #96865d; */
    /* color: white; */
    cursor: pointer;
  }
  .slickSmEachProductImage img {
      margin: 0;
  }
  @media screen and (max-width: 800px){
  .slickSmEachProductTitle {
    -webkit-line-clamp: 2;
    min-height: 35px;
  }
    .slickProductWrapSM1{
      max-width: 100%;
    }
    .addOnTotalWraper {
        margin-bottom: 8px;
    }
    .slickSmEachProductActualprice,
    .slickSmEachProductCompare{
        display: block;
    }
    .slickSmEachProductCompare{
        min-height: 17.5px;
    }
  }
</style>
<div class="addOnTotalWraper addOnTotalWraper{{ section.id }}">
  {% if product.metafields.custom.addon_titles.value.mainTitle != blank %}
    <p class="addonMaintitle">{{ product.metafields.custom.addon_titles.value.mainTitle }}</p>
  {% endif %}

  {% if product.metafields.custom.addon_titles.value.addon1 != blank %}
    <p class="addontype1">{{ product.metafields.custom.addon_titles.value.addon1 }}</p>
  {% endif %}

  {% if product.metafields.custom.addontype1 %}
    {% assign addOn1 = product.metafields.custom.addontype1.value %}
    <div class="slickProductWrapSM1-wrapper slickProductWrapSM-wrapper">
      <div class="slickProductWrapSM1 slickProductWrapSM swiper">
              <div class="swiper-wrapper">
                  {% assign rProductCount1 = 0 %}
                  {% for addOn1Product in addOn1 %}
                  {% if addOn1Product.available %}
                      {% assign rProductCount1 = rProductCount1 | plus: 1 %}
                      {% comment %} {% render 'slickProductLoop' , product:addOn1Product %} {% endcomment %}
                      <div class="swiper-slide slickSmEachProduct slickSmEachProduct{{ addOn1Product.id }}">
                      <div class="slickSmEachProductImage">
                          <a href="{{ addOn1Product.url }}"
                          ><img
                              src="{{ addOn1Product.featured_image | img_url:'master' }}"
                          ></a>
                      </div>
                      <div class="wraperTexts">
                          <p class="slickSmEachProductTitle">{{ addOn1Product.title }}</p>
                          <p class="slickSmEachProductPrices">
                          <span
                              class="slickSmEachProductActualprice"
                          >
                              {{- addOn1Product.price | money_with_currency -}}
                          </span>
                          <span
                              class="slickSmEachProductCompare"
                          >
                              {{- addOn1Product.compare_at_price | money_with_currency -}}
                          </span>
                          </p>
                          <p
                          class="evtAllBtnSm slickSmEachProductAtc slickSmEachProductAtc{{ addOn1Product.id }}"
                          onclick="atcAddon({{ addOn1Product.id }}, {{ addOn1Product.selected_or_first_available_variant.id }})"
                          >
                          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="17" viewBox="0 0 18 17" fill="none">
                              <path
                                  d="M0.5625 5.36914H13.0624V14.6145C13.0624 15.516 12.3311 16.2498 11.4312 16.2498H2.36878C1.36878 16.2498 0.5625 15.4352 0.5625 14.4342V5.36914Z"
                                  stroke="#96865D" stroke-width="1.08214" stroke-miterlimit="10" />
                              <path
                                  d="M3.82617 7.37422V4.07712C3.82617 3.74948 3.89884 3.42863 4.02436 3.1283C5.29287 0.0564732 9.4815 0.957549 9.77222 4.34335C9.78539 4.50716 9.79202 4.67106 9.79202 4.83487V7.37422"
                                  stroke="#96865D" stroke-width="1.08214" stroke-miterlimit="10" />
                              <circle cx="13.1379" cy="12.8752" r="3.29997" fill="#F9F6F1" stroke="#96865D"
                                  stroke-width="1.19036" />
                              <path d="M10.9395 12.874H15.3394" stroke="#96865D" stroke-width="1.19036" />
                              <path d="M13.1367 10.6738L13.1367 15.0738" stroke="#96865D" stroke-width="1.19036" />
                          </svg>
                          ADD
                          </p>
                          <div class="slickSmEachProductInput slickSmEachProductInput{{ addOn1Product.id }}">
                          <p class="minus-btn evtAllBtnSm" onclick="decrement({{ addOn1Product.id }})">-</p>
                          <input
                              readonly
                              data-product-id="{{ addOn1Product.id }}"
                              data-variant-id="{{ addOn1Product.selected_or_first_available_variant.id }}"
                              class="quantitySM  quantitySM{{ addOn1Product.id }}"
                              inputmode="numeric"
                              pattern="[0-9]*"
                              value="0"
                              min="1"
                              type="number"
                          >
                          <p class="plus-btn evtAllBtnSm" onclick="increment({{ addOn1Product.id }})">+</p>
                          </div>
                      </div>
                      </div>
                  {% endif %}
                  {% endfor %}
              </div>
  

      </div>
      <div class="swiper-btn-cont">
        {% if rProductCount1 > 2 %}
          <svg
            id="swiper-button-prev-{{ section.id }}-1"
            class="swiper-button-prev"
            width="36"
            height="36"
            viewBox="0 0 36 36"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <rect width="36" height="36" rx="18" fill="#96865D"/><path d="M21 24L15 18L21 12" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>

          <svg
            id="swiper-button-next-{{ section.id }}-1"
            class="swiper-button-next"
            width="36"
            height="36"
            viewBox="0 0 36 36"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <rect x="0.226562" y="0.516113" width="36" height="36" rx="18" fill="#96865D"/><path d="M15.2266 24.5161L21.2266 18.5161L15.2266 12.5161" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        {% endif %}
      </div>
    </div>
  {% endif %}

  {% if product.metafields.custom.addon_titles.value.addon2 != blank %}
    <p class="addontype2">{{ product.metafields.custom.addon_titles.value.addon2 }}</p>
  {% endif %}

  {% if product.metafields.custom.addontype2 %}
    {% assign addOn2 = product.metafields.custom.addontype2.value %}

    <div class="slickProductWrapSM2 swiper">
      <div class="swiper-wrapper">
      {% assign rProductCount2 = 0 %}
        {% for addOn2Product in addOn2 %}
          {% if addOn2Product.available %}
            {% assign rProductCount2 = rProductCount2 | plus: 1 %}
            <div class="swiper-slide slickSmEachProduct slickSmEachProduct{{ addOn2Product.id }}">
              <div class="slickSmEachProductImage">
                <a href="{{ addOn2Product.url }}"
                  ><img
                    src="{{ addOn2Product.featured_image | img_url:'master' }}"
                ></a>
              </div>
              <div class="wraperTexts">
                <p class="slickSmEachProductTitle">{{ addOn2Product.title | truncate: 28 }}</p>
                <p class="slickSmEachProductPrices">
                  <span
                    class="slickSmEachProductActualprice"
                  >
                    {{- addOn2Product.price | money_with_currency -}}
                  </span>
                  <span
                    class="slickSmEachProductCompare"
                  >
                    {{- addOn2Product.compare_at_price | money_with_currency -}}
                  </span>
                </p>
                <p
                  class="evtAllBtnSm slickSmEachProductAtc slickSmEachProductAtc{{ addOn2Product.id }}"
                  onclick="atcAddon({{ addOn2Product.id }}, {{ addOn2Product.selected_or_first_available_variant.id }})"
                >
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="17" viewBox="0 0 18 17" fill="none">
                    <path
                        d="M0.5625 5.36914H13.0624V14.6145C13.0624 15.516 12.3311 16.2498 11.4312 16.2498H2.36878C1.36878 16.2498 0.5625 15.4352 0.5625 14.4342V5.36914Z"
                        stroke="#96865D" stroke-width="1.08214" stroke-miterlimit="10" />
                    <path
                        d="M3.82617 7.37422V4.07712C3.82617 3.74948 3.89884 3.42863 4.02436 3.1283C5.29287 0.0564732 9.4815 0.957549 9.77222 4.34335C9.78539 4.50716 9.79202 4.67106 9.79202 4.83487V7.37422"
                        stroke="#96865D" stroke-width="1.08214" stroke-miterlimit="10" />
                    <circle cx="13.1379" cy="12.8752" r="3.29997" fill="#F9F6F1" stroke="#96865D"
                        stroke-width="1.19036" />
                    <path d="M10.9395 12.874H15.3394" stroke="#96865D" stroke-width="1.19036" />
                    <path d="M13.1367 10.6738L13.1367 15.0738" stroke="#96865D" stroke-width="1.19036" />
                  </svg>
                  ADD
                </p>
                <div class="slickSmEachProductInput slickSmEachProductInput{{ addOn2Product.id }}">
                  <p class="minus-btn evtAllBtnSm" onclick="decrement({{ addOn2Product.id }})">-</p>
                  <input
                    readonly
                    data-product-id="{{ addOn2Product.id }}"
                    data-variant-id="{{ addOn2Product.selected_or_first_available_variant.id }}"
                    class="quantitySM  quantitySM{{ addOn2Product.id }}"
                    inputmode="numeric"
                    pattern="[0-9]*"
                    value="0"
                    min="1"
                    type="number"
                  >
                  <p class="plus-btn evtAllBtnSm" onclick="increment({{ addOn2Product.id }})">+</p>
                </div>
              </div>
            </div>
            {% comment %} {% render 'slickProductLoop' , product:addOn2Product %} {% endcomment %}
          {% endif %}
        {% endfor %}
      </div>
            <div class="swiper-btn-cont">
      {% if rProductCount2 > 2 %}
        <svg
          id="swiper-button-prev-{{ section.id }}-2"
          class="swiper-button-prev"
          width="36"
          height="36"
          viewBox="0 0 36 36"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <rect width="36" height="36" rx="18" fill="#96865D"/><path d="M21 24L15 18L21 12" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>

        <svg
          id="swiper-button-next-{{ section.id }}-2"
          class="swiper-button-next"
          width="36"
          height="36"
          viewBox="0 0 36 36"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <rect x="0.226562" y="0.516113" width="36" height="36" rx="18" fill="#96865D"/><path d="M15.2266 24.5161L21.2266 18.5161L15.2266 12.5161" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      {% endif %}
      </div>
    </div>
  {% endif %}

  {% if product.metafields.custom.addon_titles.value.addon3 != blank %}
    <p class="addontype3">{{ product.metafields.custom.addon_titles.value.addon2 }}</p>
  {% endif %}

  {% if product.metafields.custom.addontype3 %}
    {% assign addOn3 = product.metafields.custom.addontype3.value %}

    <div class="slickProductWrapSM3 swiper">
      <div class="swiper-wrapper">
        {% assign rProductCount3 = 0 %}
        {% for addOn3Product in addOn3 %}
          {% if addOn3Product.available %}
            {% assign rProductCount3 = rProductCount3 | plus: 1 %}
            {% comment %} {% render 'slickProductLoop' , product:addOn3Product %} {% endcomment %}
            {% comment %} {{ addOn3Product.id }} {% endcomment %}
            <div class="swiper-slide slickSmEachProduct slickSmEachProduct{{ addOn3Product.id }}">
              <div class="slickSmEachProductImage">
                <a href="{{ addOn3Product.url }}"
                  ><img
                    src="{{ addOn3Product.featured_image | img_url:'master' }}"
                ></a>
              </div>
              <div class="wraperTexts">
                <p class="slickSmEachProductTitle">{{ addOn3Product.title | truncate: 28 }}</p>
                <p class="slickSmEachProductPrices">
                  <span
                    class="slickSmEachProductActualprice"
                  >
                    {{- addOn3Product.price | money_with_currency -}}
                  </span>
                  <span
                    class="slickSmEachProductCompare"
                  >
                    {{- addOn3Product.compare_at_price | money_with_currency -}}
                  </span>
                </p>
                <p
                  class="evtAllBtnSm slickSmEachProductAtc slickSmEachProductAtc{{ addOn3Product.id }}"
                  onclick="atcAddon({{ addOn3Product.id }}, {{ addOn3Product.selected_or_first_available_variant.id }})"
                >
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="17" viewBox="0 0 18 17" fill="none">
                    <path
                        d="M0.5625 5.36914H13.0624V14.6145C13.0624 15.516 12.3311 16.2498 11.4312 16.2498H2.36878C1.36878 16.2498 0.5625 15.4352 0.5625 14.4342V5.36914Z"
                        stroke="#96865D" stroke-width="1.08214" stroke-miterlimit="10" />
                    <path
                        d="M3.82617 7.37422V4.07712C3.82617 3.74948 3.89884 3.42863 4.02436 3.1283C5.29287 0.0564732 9.4815 0.957549 9.77222 4.34335C9.78539 4.50716 9.79202 4.67106 9.79202 4.83487V7.37422"
                        stroke="#96865D" stroke-width="1.08214" stroke-miterlimit="10" />
                    <circle cx="13.1379" cy="12.8752" r="3.29997" fill="#F9F6F1" stroke="#96865D"
                        stroke-width="1.19036" />
                    <path d="M10.9395 12.874H15.3394" stroke="#96865D" stroke-width="1.19036" />
                    <path d="M13.1367 10.6738L13.1367 15.0738" stroke="#96865D" stroke-width="1.19036" />
                  </svg>
                  ADD
                </p>
                <div class="slickSmEachProductInput slickSmEachProductInput{{ addOn3Product.id }}">
                  <p class="minus-btn evtAllBtnSm" onclick="decrement({{ addOn3Product.id }})">-</p>
                  <input
                    readonly
                    data-product-id="{{ addOn3Product.id }}"
                    data-variant-id="{{ addOn3Product.selected_or_first_available_variant.id }}"
                    class="quantitySM  quantitySM{{ addOn3Product.id }}"
                    inputmode="numeric"
                    pattern="[0-9]*"
                    value="0"
                    min="1"
                    type="number"
                  >
                  <p class="plus-btn evtAllBtnSm" onclick="increment({{ addOn3Product.id }})">+</p>
                </div>
              </div>
            </div>
          {% endif %}
        {% endfor %}
      </div>
            <div class="swiper-btn-cont">
      {% if rProductCount3 > 2 %}
        <svg
          id="swiper-button-prev-{{ section.id }}-3"
          class="swiper-button-prev"
          width="36"
          height="36"
          viewBox="0 0 36 36"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <rect width="36" height="36" rx="18" fill="#96865D"/><path d="M21 24L15 18L21 12" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>

        <svg
          id="swiper-button-next-{{ section.id }}-3"
          class="swiper-button-next"
          width="36"
          height="36"
          viewBox="0 0 36 36"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <rect x="0.226562" y="0.516113" width="36" height="36" rx="18" fill="#96865D"/><path d="M15.2266 24.5161L21.2266 18.5161L15.2266 12.5161" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      {% endif %}
      </div>
    </div>
  {% endif %}
</div>

<script defer>
  // console.log(`x - .addOnTotalWraper{{ section.id }} .slickProductWrapSM1`)
{% if product.metafields.custom.addontype1 %}
  const paslickProductWrapSM1 = new Swiper('.addOnTotalWraper{{ section.id }} .slickProductWrapSM1', {
    slidesPerView: 3.5,
    spaceBetween: 10,
    navigation: {
      nextEl: '#swiper-button-next-{{ section.id }}-1',
      prevEl: '#swiper-button-prev-{{ section.id }}-1',
    },
  });
{% endif %}
{% if product.metafields.custom.addontype2 %}
  const paslickProductWrapSM2 = new Swiper('.addOnTotalWraper{{ section.id }} .slickProductWrapSM2', {
    slidesPerView: 3.5,
    spaceBetween: 10,
    navigation: {
      nextEl: '#swiper-button-next-{{ section.id }}-2',
      prevEl: '#swiper-button-prev-{{ section.id }}-2',
    },
  });
{% endif %}
{% if product.metafields.custom.addontype3 %}
  const paslickProductWrapSM3 = new Swiper('.addOnTotalWraper{{ section.id }} .slickProductWrapSM3', {
    slidesPerView: 3.5,
    spaceBetween: 10,
    navigation: {
      nextEl: '#swiper-button-next-{{ section.id }}-3',
      prevEl: '#swiper-button-prev-{{ section.id }}-3',
    },
  });
{% endif %}

  function atcAddon(prod) {
    $(`.slickSmEachProductAtc${prod}`).css('display', 'none');
    $(`.slickSmEachProductInput${prod}`).css('display', 'flex');
    $(`.quantitySM${prod}`).val(1);
    // ajaxCart(varid, 1)
  }

  function increment(prod) {
    let inputVal = $(`.quantitySM${prod}`).val();
    let NewInputVal = parseInt(inputVal) + 1;
    $(`.quantitySM${prod}`).val(NewInputVal);
  }

  function decrement(prod) {
    let inputVal = $(`.quantitySM${prod}`).val();
    let NewInputVal = parseInt(inputVal) - 1;
    $(`.quantitySM${prod}`).val(NewInputVal);
    if (NewInputVal < 1) {
      $(`.slickSmEachProductInput${prod}`).css('display', 'none');
      $(`.slickSmEachProductAtc${prod}`).css('display', 'flex');
    }
  }
</script>

<style>
  /* .image-section_container{
      margin: 0 auto;
  } */
  #shopify-section-{{ section.id }} .image-section_image{
      padding: {{section.settings.desktop_padding}};
      width: -webkit-fill-available;
      {% if section.settings.desktop_max_width %}max-width: {{ section.settings.desktop_max_width }};{% endif %}
  }
  @media screen and (max-width: 640px) {
     #shopify-section-{{ section.id }} .image-section_image{
          padding: {{section.settings.mobile_padding}};
      }
  }
  @media screen and (min-width: 650px) {
     #shopify-section-{{ section.id }} .image-section {
       
       padding: {{section.settings.desktop_padding}};
      width: -webkit-fill-available;
      {% if section.settings.desktop_max_width %}max-width: {{ section.settings.desktop_max_width }};{% else %}max-width: 1320px;{% endif %}
     }
  }
</style>

<a
  href="{{section.settings.url}}"
  class="image-section_container {% if section.settings.full_width == false %}container{% endif %}"
>
  <picture>
    {% if section.settings.mobile_image %}
      <source
        media="(max-width:640px)"
        loading="lazy"
        class="lazy"
        srcset="{{section.settings.mobile_image | image_url: width: 800 }}"
        alt="{{section.settings.mobile_image.alt}}"
      >
    {% endif %}
    <img
      loading="lazy" class="lazy image-section" data-src="{{section.settings.desktop_image | image_url: width: 2000}}"
      class="image-section_image"
      width="{{ section.settings.desktop_image.width }}"
      height="{{ section.settings.desktop_image.height }}"
      alt="{{section.settings.desktop_image.alt}}"
    >
  </picture>
</a>

{% schema %}
{
  "name": "image section",
  "tag": "section",
  "settings": [
    {
      "type": "image_picker",
      "label": "desktop image",
      "id": "desktop_image"
    },
    {
      "type": "image_picker",
      "label": "mobile image",
      "id": "mobile_image"
    },
    {
      "type": "url",
      "label": "url",
      "id": "url"
    },
    {
      "type": "text",
      "label": "mobile padding",
      "id": "mobile_padding"
    },
    {
      "type": "text",
      "label": "desktop padding",
      "id": "desktop_padding"
    },
    {
      "type": "text",
      "label": "desktop max width",
      "id": "desktop_max_width",
      "default": "1320px"
    },
    {
      "type": "checkbox",
      "label": "Full width",
      "id": "full_width",
      "default": false
    }
  ],
  "blocks": [],
  "presets": [
    {
      "name": "image section"
    }
  ]
}
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
